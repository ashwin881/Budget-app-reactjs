{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ashwin\\\\budget_app\\\\myapp\\\\src\\\\Context\\\\AppContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport PostMessage from \"../PostMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = 'http://localhost:4000/';\nexport const AppReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_EXPENSE':\n      return { ...state,\n        expenses: [...state.expenses, action.payload]\n      };\n\n    case 'DELETE_EXPENSE':\n      return { ...state,\n        expenses: state.expenses.filter(expense => expense.id !== action.payload)\n      };\n\n    case 'SET_BUDGET':\n      return { ...state,\n        budget: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n_c = AppReducer;\nlet arr = PostMessage().fetchAll();\n\nasync function get() {\n  let res = await fetch(baseUrl + 'postmessages/').then(res => {\n    let dat = res.data;\n    let d = [];\n\n    for (let i = 0; i < dat.length; i++) {\n      d.push({\n        'id': dat[i]._id,\n        'name': dat[i].name,\n        'cost': dat[i].cost\n      });\n    }\n\n    return d;\n  });\n  const initialState = {\n    budget: 10000,\n    expenses: res\n  };\n  return initialState;\n}\n\nconst initialState = get();\nconsole.log(initialState);\nconsole.log(initialState.expenses);\nexport const AppContext = /*#__PURE__*/createContext();\nexport const AppProvider = props => {\n  _s();\n\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      budget: state.budget,\n      expenses: state.expenses,\n      dispatch\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 14\n  }, this);\n};\n\n_s(AppProvider, \"UrEkDPQH5U12xnblC9PjDJeyoVE=\");\n\n_c2 = AppProvider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AppReducer\");\n$RefreshReg$(_c2, \"AppProvider\");","map":{"version":3,"sources":["C:/Users/Ashwin/budget_app/myapp/src/Context/AppContext.js"],"names":["createContext","useReducer","PostMessage","baseUrl","AppReducer","state","action","type","expenses","payload","filter","expense","id","budget","arr","fetchAll","get","res","fetch","then","dat","data","d","i","length","push","_id","name","cost","initialState","console","log","AppContext","AppProvider","props","dispatch","children"],"mappings":";;;AACA,SAASA,aAAT,EAAuBC,UAAvB,QAAwC,OAAxC;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AACA,MAAMC,OAAO,GAAG,wBAAhB;AACA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACC,SAAK,aAAL;AAEC,aAAO,EAAC,GAAGF,KAAJ;AAAUG,QAAAA,QAAQ,EAAE,CAAC,GAAGH,KAAK,CAACG,QAAV,EAAoBF,MAAM,CAACG,OAA3B;AAApB,OAAP;;AAGK,SAAK,gBAAL;AACI,aAAO,EACH,GAAGJ,KADA;AACMG,QAAAA,QAAQ,EAAEH,KAAK,CAACG,QAAN,CAAeE,MAAf,CAAuBC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACG,OAAzD;AADhB,OAAP;;AAIA,SAAK,YAAL;AACI,aAAO,EACH,GAAGJ,KADA;AAEHQ,QAAAA,MAAM,EAAEP,MAAM,CAACG;AAFZ,OAAP;;AAId;AACC,aAAOJ,KAAP;AAjBF;AAmBA,CApBM;KAAMD,U;AAqBb,IAAIU,GAAG,GAAGZ,WAAW,GAAGa,QAAd,EAAV;;AAGA,eAAeC,GAAf,GAAoB;AAChB,MAAIC,GAAG,GAAC,MAAMC,KAAK,CAAEf,OAAO,GAAG,eAAZ,CAAL,CAAkCgB,IAAlC,CAAuCF,GAAG,IAAI;AAExD,QAAIG,GAAG,GAAGH,GAAG,CAACI,IAAd;AACA,QAAIC,CAAC,GAAC,EAAN;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,GAAG,CAACI,MAAlB,EAAyBD,CAAC,EAA1B,EAA8B;AAC5BD,MAAAA,CAAC,CAACG,IAAF,CAAO;AAAC,cAAKL,GAAG,CAACG,CAAD,CAAH,CAAOG,GAAb;AAAiB,gBAAON,GAAG,CAACG,CAAD,CAAH,CAAOI,IAA/B;AAAoC,gBAAOP,GAAG,CAACG,CAAD,CAAH,CAAOK;AAAlD,OAAP;AAGD;;AACD,WAAON,CAAP;AAGH,GAZa,CAAd;AAaA,QAAMO,YAAY,GAAE;AAChBhB,IAAAA,MAAM,EAAC,KADS;AAEhBL,IAAAA,QAAQ,EAACS;AAFO,GAApB;AAMA,SAAOY,YAAP;AACH;;AAKD,MAAMA,YAAY,GAAGb,GAAG,EAAxB;AACAc,OAAO,CAACC,GAAR,CAAYF,YAAZ;AAGAC,OAAO,CAACC,GAAR,CAAYF,YAAY,CAACrB,QAAzB;AACA,OAAO,MAAMwB,UAAU,gBAAGhC,aAAa,EAAhC;AAEP,OAAO,MAAMiC,WAAW,GAAEC,KAAD,IAAS;AAAA;;AAE7B,QAAM,CAAC7B,KAAD,EAAO8B,QAAP,IAAiBlC,UAAU,CAACG,UAAD,EAAYyB,YAAZ,CAAjC;AAEA,sBAAQ,QAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAE;AAChChB,MAAAA,MAAM,EAACR,KAAK,CAACQ,MADmB;AACZL,MAAAA,QAAQ,EAACH,KAAK,CAACG,QADH;AACY2B,MAAAA;AADZ,KAA5B;AAAA,cAELD,KAAK,CAACE;AAFD;AAAA;AAAA;AAAA;AAAA,UAAR;AAGJ,CAPM;;GAAMH,W;;MAAAA,W","sourcesContent":["\r\nimport { createContext,useReducer} from \"react\"\r\nimport PostMessage from \"../PostMessage\"\r\nconst baseUrl = 'http://localhost:4000/'\r\nexport const AppReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'ADD_EXPENSE':\r\n         \r\n\t\t\treturn {...state,expenses: [...state.expenses, action.payload],}\r\n       \r\n       \r\n        case 'DELETE_EXPENSE':\r\n            return {\r\n                ...state,expenses: state.expenses.filter((expense) => expense.id !== action.payload),\r\n            }\r\n\t\t\r\n            case 'SET_BUDGET':\r\n                return {\r\n                    ...state,\r\n                    budget: action.payload,\r\n                }\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nlet arr=  PostMessage().fetchAll()\r\n\r\n\r\nasync function get(){\r\n    let res=await fetch( baseUrl + 'postmessages/').then(res => {\r\n    \r\n        let dat = res.data;\r\n        let d=[];\r\n        for(let i=0;i<dat.length;i++) {\r\n          d.push({'id':dat[i]._id,'name':dat[i].name,'cost':dat[i].cost})\r\n    \r\n    \r\n        }\r\n        return d;\r\n      \r\n      \r\n    });\r\n    const initialState ={\r\n        budget:10000,\r\n        expenses:res\r\n    \r\n    };\r\n   \r\n    return initialState;\r\n}\r\n   \r\n\r\n\r\n    \r\nconst initialState = get();\r\nconsole.log(initialState);\r\n\r\n\r\nconsole.log(initialState.expenses);\r\nexport const AppContext = createContext();\r\n\r\nexport const AppProvider=(props)=>{\r\n    \r\n     const [state,dispatch]=useReducer(AppReducer,initialState);\r\n    \r\n     return (<AppContext.Provider value={{\r\n         budget:state.budget,expenses:state.expenses,dispatch}\r\n     }>{props.children}</AppContext.Provider>)\r\n};"]},"metadata":{},"sourceType":"module"}